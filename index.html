<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEMO</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
        }
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            padding: 16px;
            overflow: auto;
        }
        code {
            background-color: rgba(27, 31, 35, 0.05);
            border-radius: 3px;
            font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
        }
        pre > code {
            background-color: transparent;
            padding: 0;
        }
        a { color: #0366d6; text-decoration: none; }
        a:hover { text-decoration: underline; }
        img { max-width: 100%; }
        .highlight pre, pre {
            margin-bottom: 16px;
        }
    </style>
</head>
<body>
<h1 id="aws-ec2">AWS ãƒ‡ãƒ¢ï¼šEC2</h1>
<h2 id="616">ğŸ“š 6/16 ã‚„ã£ãŸã“ã¨</h2>
<p><br/></p>
<h2 id="ec2-apache-web">ğŸŒ EC2 + Apache ã‚’ä½¿ã£ãŸç°¡å˜ãª Web ã‚µãƒ¼ãƒãƒ¼ãƒ‡ãƒ¢</h2>
<hr />
<h2 id="_1">ğŸ¯ ãƒ‡ãƒ¢ã®ç›®çš„</h2>
<ul>
<li>AWS EC2 ã«æ¥ç¶šã—ã¦ Web ã‚µãƒ¼ãƒãƒ¼ã‚’ç«‹ã¡ä¸Šã’ã‚‹</li>
<li>ã‚·ãƒ³ãƒ—ãƒ«ãª HTML ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¦ã€Œè¦‹ãˆã‚‹åŒ–ã€</li>
</ul>
<hr />
<h2 id="_2">ğŸ§± æ§‹æˆæ¦‚è¦</h2>
<ul>
<li>EC2: Amazon Linux 2023 ãªã©</li>
<li>Apache HTTP ã‚µãƒ¼ãƒãƒ¼</li>
<li>HTML/CSS/JS: <code>/var/www/html/index.html</code></li>
<li>SSM: AWS Systems Manager çµŒç”±ã§æ¥ç¶šï¼ˆSSH ä¸è¦ï¼‰</li>
</ul>
<hr />
<h2 id="1-ec2">ğŸ”§ ã‚¹ãƒ†ãƒƒãƒ— 1: EC2 ã«æ¥ç¶šã™ã‚‹</h2>
<p>SSM çµŒç”±ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«æ¥ç¶šï¼š</p>
<pre><code class="language-bash">aws ssm start-session \
  --target i-xxxxxxxxxxxxxxxxx \
  --profile us-east-1 \
  --region us-east-1
</code></pre>
<h2 id="2-apache">ã‚¹ãƒ†ãƒƒãƒ— 2: Apache ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h2>
<pre><code class="language-bash">dnf install -y httpd

sudo systemctl start httpd
sudo systemctl enable httpd

# HTML ã‚’è¨­ç½®
sudo tee /var/www/html/index.html &gt; /dev/null &lt;&lt;'EOF'
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;ja&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;EC2 ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸&lt;/title&gt;
  &lt;style&gt;
    body {
      font-family: sans-serif;
      background-color: #ffffff;
      color: #222;
      text-align: center;
      padding: 5rem;
      transition: background-color 0.3s, color 0.3s;
    }
    h1 {
      font-size: 2.5rem;
    }
    p {
      font-size: 1.25rem;
    }
    button {
      margin-top: 2rem;
      padding: 1rem 2rem;
      font-size: 1rem;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      background-color: #333;
      color: white;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #555;
    }
    .dark-mode {
      background-color: #222;
      color: #ddd;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;EC2 ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸&lt;/h1&gt;
  &lt;p&gt;ã“ã‚Œã¯ãƒ‡ãƒ¢ã§ã™ã€‚&lt;/p&gt;
  &lt;button onclick=&quot;toggleDarkMode()&quot;&gt;ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿&lt;/button&gt;
  &lt;script&gt;
    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
EOF
</code></pre>
<p>ğŸŒ ã‚¹ãƒ†ãƒƒãƒ— 3: ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèª</p>
<p>ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã«ã‚¢ã‚¯ã‚»ã‚¹ï¼š</p>
<pre><code>http://&lt;EC2ã®ãƒ‘ãƒ–ãƒªãƒƒã‚¯IP&gt;:80
</code></pre>
<p><br /></p>
<h2 id="612">ğŸ“š 6/12 ã‚„ã£ãŸã“ã¨</h2>
<h3 id="1-ec2_1">1. EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¸ã®æ¥ç¶š</h3>
<ul>
<li>Instance Connect ã§ã®æ¥ç¶š</li>
<li>SSH ã§ã®æ¥ç¶š</li>
<li>Session Manager ã§ã®æ¥ç¶š</li>
</ul>
<h4 id="session-manager-connect">Session Manager ã§ã®æ¥ç¶šã¯ã€ä»Šå›åŒæœŸã•ã‚Œã‚‹ã¾ã§ã«æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã—ãŸãŒã€ä¸€æ—¦åŒæœŸã•ã‚Œã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã« connect ãƒœã‚¿ãƒ³ãŒæ´»æ€§åŒ–ã•ã‚Œã¾ã™</h4>
<p><img src="asset/ssm-connect.png" alt="SSM Session Manager ã§ã®æ¥ç¶š" style="width: 30%;"></p>
<h4 id="session-manager">å‚è€ƒï¼šã€€å°‘ã—å¤ã„è¨˜äº‹ã§ã™ãŒã€Session Manager ã§ã®æ¥ç¶šæ–¹æ³•ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã‚‚å‚ç…§ã—ã¦ãã ã•ã„</h4>
<p>https://dev.classmethod.jp/articles/ec2-access-with-session-manager/</p>
<p><br />
<br />
<br /></p>
<h2 id="69">ğŸ“š å¾©ç¿’ï¼šã€€ 6/9 ã‚„ã£ãŸã“ã¨</h2>
<h3 id="1">1. ä¸‹è¨˜ã®æ§‹æˆã§ã€</h3>
<ul>
<li>VPC ã‚’ä½œæˆ</li>
<li>Public Subnet ã« EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã€èµ·å‹•</li>
<li>ãƒ­ãƒ¼ã‚«ãƒ«ãƒã‚·ãƒ³ã‹ã‚‰ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«æ¥ç¶š</li>
</ul>
<p><img alt="ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³" src="asset/arch.png" /></p>
<h3 id="2-aws">2. å®Ÿéš›ã® AWS ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§è¦‹ãŸãƒªã‚½ãƒ¼ã‚¹é…ç½®ã¯ã“ã†ã§ã™</h3>
<p><img alt="å®Ÿéš›ã®AWSãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã®ãƒªã‚½ãƒ¼ã‚¹é…ç½®" src="asset/vpc.png" /></p>
<h3 id="3">3. ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¸ã®æ¥ç¶šã¯ä»¥ä¸‹ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™</h3>
<ul>
<li>æœ¬æ—¥ã¯ã€Instance Connect ã®ã¿å®Ÿæ–½ã—ãŸ</li>
<li>Session Manager ãŒæ¨å¥¨ï¼ˆä¸€ç•ªå®‰å…¨ï¼‰</li>
<li>SSHã€RDP ã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã§åŠ£ã‚‹ã€‚æ˜”ãªãŒã‚‰ã®ã‚„ã‚Šæ–¹</li>
</ul>
<p><img src="asset/ec2-connect.png" alt="å®Ÿéš›ã®AWSãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã®ãƒªã‚½ãƒ¼ã‚¹é…ç½®" style="width: 80%;"></p>
<h2 id="_3">ğŸ¯ å†…å®¹</h2>
<p>EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä½œæˆã€ã‚»ã‚­ãƒ¥ã‚¢ãªæ¥ç¶šã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•ã¾ã§ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚</p>
<h2 id="aws">ğŸ§± ä½¿ç”¨ã™ã‚‹ AWS ã‚µãƒ¼ãƒ“ã‚¹</h2>
<ul>
<li>Amazon EC2</li>
<li>Amazon EC2 Security Group</li>
<li>AWS Systems Manager</li>
<li>AWS CloudFormation</li>
</ul>
<hr />
<h2 id="_4">ğŸ—‚ï¸ æ§‹æˆæ¦‚è¦</h2>
<pre><code>
+------------------------+
| EC2 Instance |
|------------------------|
| OS: Amazon Linux 2023 |
| Node.js + Git |
| Port: 8080 Open |
+------------------------+
â†‘
|ï¼ˆSSM Session Manager çµŒç”±ã§æ¥ç¶šï¼‰

</code></pre>
<hr />
<h2 id="_5">ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †</h2>
<h3 id="1-cloudformation">1. CloudFormation ã‚¹ã‚¿ãƒƒã‚¯ã‚’ä½œæˆ</h3>
<ul>
<li>AWS ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ« â†’ CloudFormation â†’ ã€Œã‚¹ã‚¿ãƒƒã‚¯ã®ä½œæˆã€</li>
<li>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ<code>template.yml</code>ï¼‰ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹</li>
<li>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã®ã¾ã¾ä½œæˆ</li>
</ul>
<h3 id="2-ec2">2. EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒèµ·å‹•ã—ãŸã‚‰ç¢ºèª</h3>
<ul>
<li>EC2 â†’ ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä¸€è¦§ â†’ ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ ãŒ <code>running</code> ã«ãªã£ã¦ã„ã‚‹ã“ã¨</li>
</ul>
<h3 id="3-systems-manager">3. Systems Manager ã‹ã‚‰æ¥ç¶š</h3>
<ul>
<li>Systems Manager â†’ ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ â†’ ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®é–‹å§‹</li>
<li>è©²å½“ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸æŠã—ã¦æ¥ç¶š</li>
</ul>
<h3 id="4-web">4. Web ã‚¢ã‚¯ã‚»ã‚¹ã§ã‚¢ãƒ—ãƒªã‚’è¡¨ç¤º</h3>
<p>ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã® <strong>ãƒ‘ãƒ–ãƒªãƒƒã‚¯ IP ã‚¢ãƒ‰ãƒ¬ã‚¹</strong> ã‚’ç¢ºèªã—ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã«ã‚¢ã‚¯ã‚»ã‚¹ï¼š</p>
<pre><code>
http://&lt;EC2 ã®ãƒ‘ãƒ–ãƒªãƒƒã‚¯ IP&gt;:8080

</code></pre>
<hr />
<h2 id="_6">ğŸ§¼ ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—</h2>
<ul>
<li>CloudFormation â†’ ã‚¹ã‚¿ãƒƒã‚¯ã‚’é¸æŠ â†’ å‰Šé™¤</li>
<li>ã™ã¹ã¦ã®ãƒªã‚½ãƒ¼ã‚¹ãŒè‡ªå‹•ã§å‰Šé™¤ã•ã‚Œã¾ã™</li>
</ul>
<hr />
<h2 id="_7">å‚è€ƒ</h2>
<ul>
<li><a href="https://docs.aws.amazon.com/linux/al2023/ug/">Amazon Linux 2023 å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li>
<li><a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager.html">Systems Manager ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼</a></li>
<li><a href="https://github.com/scotch-io/node-todo">Scotch.io Node ToDo App GitHub</a></li>
</ul>
<hr />
<pre><code>
</code></pre>
</body>
</html>